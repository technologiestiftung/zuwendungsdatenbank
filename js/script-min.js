var loader=function(n,t,e){var a,d,r,o,i,u,l,s,c={},f=n,p=t,g=e;return c.init=function(){d=f.append("svg").attr("width",100).attr("height",100).append("g").attr("transform","translate(50,50)"),r=d3.scaleLinear().range([0,p]).domain([0,g]),o=d3.scaleLinear().range([0,2*Math.PI]).domain([0,g]),i=d3.select("#loader-funds"),u=d3.arc().innerRadius(42).outerRadius(48).startAngle(0),l=d3.arc().innerRadius(43).outerRadius(47).startAngle(0),d.append("path").datum({endAngle:2*Math.PI}).style("fill","#ddd").attr("d",u),s=d.append("path").datum({endAngle:0}).style("fill","#777").attr("d",l),d.append("text").attr("id","euro-sign").attr("text-anchor","middle").style("fill","#777").style("font-size",72).text("â‚¬").attr("dy",24)},c.update=function(){var n,t=a.reduce(function(n,t){return n+t},0);i.html(currency(Math.round(r(t)))),s.transition().duration(200).attrTween("d",(n=o(t),function(t){var e=d3.interpolate(t.endAngle,n);return function(n){return t.endAngle=e(n),l(t)}}))},c.load=function(n,t){a=[];var e=d3.queue();n.forEach(function(n,t){a.push(0),function(n,t){var d=n.indexOf("json")>=0?d3.json:d3.csv;e.defer(function(e){d(n,function(n,t){e(t)}).on("progress",function(n){isNaN(n.loaded)||(a[t]=n.loaded),c.update()}).on("load",function(n){isNaN(n.loaded)||(a[t]=n.loaded),c.update()})})}(n,t)}),e.awaitAll(function(n,e){n&&console.log(n),console.log("done"),t(e)})},c};function currency(n){for(var t="",e=0,a=(n=(n+"").split("")).length-1;a>=0;a--)t=n[a]+t,2==e&&0!=a&&(t="."+t,e=-1),e++;return t+"&nbsp;â‚¬"}